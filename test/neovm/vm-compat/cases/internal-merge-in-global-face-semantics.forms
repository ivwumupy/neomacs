; Lock in internal-merge-in-global-face frame/face checks and merge behavior.
(fboundp 'internal-merge-in-global-face)
(condition-case err (internal-merge-in-global-face) (error err))
(condition-case err (internal-merge-in-global-face 'default) (error err))
(condition-case err (internal-merge-in-global-face 'default nil nil) (error err))
(condition-case err (internal-merge-in-global-face 'default nil) (error err))
(condition-case err (internal-merge-in-global-face 'default t) (error err))
(condition-case err (internal-merge-in-global-face 'default 0) (error err))
(condition-case err (internal-merge-in-global-face 'unknown-face (selected-frame)) (error err))
(condition-case err (internal-merge-in-global-face nil (selected-frame)) (error err))
(condition-case err (internal-merge-in-global-face t (selected-frame)) (error err))
(condition-case err (internal-merge-in-global-face 1 (selected-frame)) (error err))
(condition-case err (internal-merge-in-global-face "unknown-face" (selected-frame)) (error err))

(internal-merge-in-global-face "default" (selected-frame))
(internal-set-lisp-face-attribute 'default :foreground "white" t)
(internal-get-lisp-face-attribute 'default :foreground)
(internal-merge-in-global-face 'default (selected-frame))
(internal-get-lisp-face-attribute 'default :foreground)
(internal-get-lisp-face-attribute 'default :foreground t)

(internal-set-lisp-face-attribute 'default :foreground "red")
(internal-set-lisp-face-attribute 'default :foreground nil t)
(internal-merge-in-global-face 'default (selected-frame))
(internal-get-lisp-face-attribute 'default :foreground)

(internal-set-lisp-face-attribute 'mode-line :height 3 t)
(internal-get-lisp-face-attribute 'mode-line :height)
(internal-merge-in-global-face "mode-line" (selected-frame))
(internal-get-lisp-face-attribute 'mode-line :height)
(internal-get-lisp-face-attribute 'mode-line :height t)

(internal-make-lisp-face 'neovm-merge-face)
(internal-set-lisp-face-attribute 'neovm-merge-face :foreground "cyan" t)
(condition-case err (internal-get-lisp-face-attribute 'neovm-merge-face :foreground) (error err))
(internal-merge-in-global-face 'neovm-merge-face (selected-frame))
(internal-get-lisp-face-attribute 'neovm-merge-face :foreground)
