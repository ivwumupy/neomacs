; File operation conditions should expose specific file-* subclasses.
(setq vm-fec-base "/tmp/neovm-file-condition-compat/")
(condition-case _ (delete-directory "/tmp/neovm-file-condition-compat/already" t) (error nil))
(condition-case _ (delete-directory vm-fec-base t) (error nil))
(make-directory vm-fec-base t)
(let ((default-directory vm-fec-base))
  (condition-case err
      (delete-file "missing-delete.tmp")
    (file-missing (car err))
    (file-error (car err))))
(let ((default-directory vm-fec-base))
  (condition-case err
      (progn
        (make-directory "already")
        (make-directory "already"))
    (file-already-exists (car err))
    (file-error (car err))))
(let ((default-directory vm-fec-base))
  (condition-case err
      (copy-file "missing-source.tmp" "dst.tmp")
    (file-missing (car err))
    (file-error (car err))))
(let ((default-directory vm-fec-base))
  (condition-case err
      (with-temp-buffer
        (insert-file-contents "missing-input.tmp"))
    (file-missing (car err))
    (file-error (car err))))
(condition-case _ (delete-directory "/tmp/neovm-file-condition-compat/already" t) (error nil))
(condition-case _ (delete-directory vm-fec-base t) (error nil))
